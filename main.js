!function t(e,n,r){function a(o,l){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!l&&u)return u(o,!0);if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return a(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)t[e].update()}function a(t){if(!t)return"";var e=parseFloat(t).toFixed(2);if(t>60){var n=Math.floor(t/60),r=(t%60).toFixed(2).split("."),a=r[0],i=r[1];e=n+":"+a+"."+i}return e}function i(t){return t>=20?"label label-important":t>=10?"label label-warning":"label label-success"}function o(t){return t>=10?"Query elapsed warn_long":t>=1?"Query elapsed warn":"Query elapsed short"}function l(t){f("table",null,g),f("tbody");for(var e=0;e<t.length;e++){var n=t[e],r=n.getTopFiveQueries(),l=n.queries.length;f("tr",n.id),f("td",null,b),h(n.name),p("td"),f("td",null,y),f("span",null,null,"class",i(l)),h(l),p("span"),p("td");for(var u=0;5>u;u++){var s=r[u],c=s.elapsed;f("td",null,null,"class",o(c)),h(a(c)),f("div",null,k),f("div",null,x),h(s.query),p("div"),f("div",null,N),p("div"),p("div"),p("td")}p("tr")}p("tbody"),p("table")}function u(){function t(){v(document.body,function(){l(e)}),requestAnimationFrame(t)}for(var e=[],n=0;c>n;n++)e.push(new m.Database("cluster"+n)),e.push(new m.Database("cluster"+n+"slave"));setInterval(function(){r(e)},s),t()}var s=0,c=100,d=t("incremental-dom"),f=d.elementOpen,p=d.elementClose,h=(d.elementVoid,d.text),v=d.patch,m=t("./data"),g=["class","table table-striped table-latest-data"],b=["class","dbname"],y=["class","query-count"],k=["class","popover left"],x=["class","popover-content"],N=["class","arrow"];document.addEventListener("DOMContentLoaded",function(){u()})},{"./data":12,"incremental-dom":2}],2:[function(t,e,n){var r=t("./src/patch").patch,a=t("./src/virtual_elements");e.exports={patch:r,elementVoid:a.elementVoid,elementOpenStart:a.elementOpenStart,elementOpenEnd:a.elementOpenEnd,elementOpen:a.elementOpen,elementClose:a.elementClose,text:a.text,attr:a.attr}},{"./src/patch":7,"./src/virtual_elements":10}],3:[function(t,e,n){var r=t("./nodes"),a=r.createNode,i=r.getKey,o=r.getNodeName,l=r.getChild,u=r.registerChild,s=t("./traversal").markVisited,c=t("./walker").getWalker,d=function(t,e,n){return t&&n===i(t)&&e===o(t)},f=function(t,e,n){var r,i=c(),o=i.currentNode,f=i.getCurrentParent();if(d(o,t,e))r=o;else{var p=e&&l(f,e);p?r=p:(r=a(i.doc,t,e,n),u(f,e,r)),f.insertBefore(r,o),i.currentNode=r}return s(f,r),r};e.exports={alignWithDOM:f}},{"./nodes":6,"./traversal":8,"./walker":11}],4:[function(t,e,n){var r=t("./node_data").getData,a=function(t,e,n){var a=r(t),i=a.attrs;if(i[e]!==n){var o=typeof n;void 0===n?t.removeAttribute(e):"object"===o||"function"===o?t[e]=n:t.setAttribute(e,n),i[e]=n}},i=function(t,e){if("string"==typeof e||e instanceof String)t.style.cssText=e;else{t.style.cssText="";for(var n in e)t.style[n]=e[n]}},o=function(t,e,n){switch(e){case"id":t.id=n;break;case"class":t.className=n;break;case"tabindex":t.tabIndex=n;break;case"style":i(t,n);break;default:a(t,e,n)}};e.exports={updateAttribute:o}},{"./node_data":5}],5:[function(t,e,n){function r(t,e){this.attrs={},this.attrsArr=[],this.newAttrs={},this.key=e,this.keyMap=null,this.lastVisitedChild=null,this.nodeName=t,this.text=null}var a=function(t,e,n){var a=new r(e,n);return t.__incrementalDOMData=a,a},i=function(t){var e=t.__incrementalDOMData;if(!e){var n=t.nodeName.toLowerCase(),r=null;t instanceof Element&&(r=t.getAttribute("key")),e=a(t,n,r)}return e};e.exports={getData:i,initData:a}},{}],6:[function(t,e,n){var r=t("./attributes").updateAttribute,a=t("./node_data"),i=a.getData,o=a.initData,l=function(t,e,n,a){var i=t.createElement(e);if(o(i,e,n),a)for(var l=0;l<a.length;l+=2)r(i,a[l],a[l+1]);return i},u=function(t,e){var n=t.createTextNode(e);return i(n).text=e,n},s=function(t,e,n,r){return"#text"===e?u(t,r):l(t,e,n,r)},c=function(t){for(var e={},n=t.children,r=n.length,a=0;r>a;a+=1){var i=n[a],o=d(i);o&&(e[o]=i)}return e},d=function(t){return i(t).key},f=function(t){return i(t).nodeName},p=function(t){var e=i(t);return e.keyMap||(e.keyMap=c(t)),e.keyMap},h=function(t,e){return p(t)[e]},v=function(t,e,n){e&&(p(t)[e]=n)};e.exports={createNode:s,getKey:d,getNodeName:f,getChild:h,registerChild:v}},{"./attributes":4,"./node_data":5}],7:[function(t,e,n){var r=t("./traversal"),a=r.firstChild,i=r.parentNode,o=t("./tree_walker"),l=t("./walker"),u=l.getWalker,s=l.setWalker,c=function(t,e){var n=u();s(new o(t)),a(),e(),i(),s(n)};e.exports={patch:c}},{"./traversal":8,"./tree_walker":9,"./walker":11}],8:[function(t,e,n){var r=t("./walker").getWalker,a=t("./node_data").getData,i=function(t){var e=a(t);e.lastVisitedChild=null},o=function(t){var e=a(t),n=e.lastVisitedChild;if(t.lastChild!==n){for(;t.lastChild!==n;)t.removeChild(t.lastChild);e.keyMap=null}},l=function(t,e){var n=a(t);n.lastVisitedChild=e},u=function(){var t=r();i(t.currentNode),t.firstChild()},s=function(){var t=r();t.nextSibling()},c=function(){var t=r();t.parentNode(),o(t.currentNode)};e.exports={firstChild:u,nextSibling:s,parentNode:c,markVisited:l}},{"./node_data":5,"./walker":11}],9:[function(t,e,n){function r(t){this.stack_=[],this.currentNode=t,this.doc=t.ownerDocument}r.prototype.getCurrentParent=function(){return this.stack_[this.stack_.length-1]},r.prototype.firstChild=function(){this.stack_.push(this.currentNode),this.currentNode=this.currentNode.firstChild},r.prototype.nextSibling=function(){this.currentNode=this.currentNode.nextSibling},r.prototype.parentNode=function(){this.currentNode=this.stack_.pop()},e.exports=r},{}],10:[function(t,e,n){var r=t("./alignment").alignWithDOM,a=t("./attributes").updateAttribute,i=t("./node_data").getData,o=(t("./walker").getWalker,t("./traversal")),l=o.firstChild,u=o.nextSibling,s=o.parentNode,c=3,d=[],f=function(t,e,n,r){var a,o=i(this),l=o.attrsArr,u=!1;for(a=c;a<arguments.length;a+=2)if(l[a-c>>1]!==arguments[a+1]){u=!0;break}if(u)for(a=c;a<arguments.length;a+=2)l[a-c>>1]=arguments[a+1];return u},p=function(t,e,n,r){var a=this,o=i(a),l=o.newAttrs;for(var u in l)l[u]=void 0;for(var s=c;s<arguments.length;s+=2)l[arguments[s]]=arguments[s+1];return l},h=function(t,e){for(var n in e)a(t,n,e[n])},v=function(t,e,n,a){var i=r(t,e,n);if(f.apply(i,arguments)){var o=p.apply(i,arguments);h(i,o)}l()},m=function(t,e,n){d[0]=t,d[1]=e,d[2]=n,d.length=c},g=function(t,e){d.push(t,e)},b=function(){v.apply(null,d)},y=function(t){s(),u()},k=function(t,e,n,r){v.apply(null,arguments),y.apply(null,arguments)},x=function(t){var e=r("#text",null,t),n=i(e);n.text!==t&&(e.data=t,n.text=t),u()};e.exports={elementOpenStart:m,elementOpenEnd:b,elementOpen:v,elementVoid:k,elementClose:y,text:x,attr:g}},{"./alignment":3,"./attributes":4,"./node_data":5,"./traversal":8,"./walker":11}],11:[function(t,e,n){var r,a=function(){return r},i=function(t){r=t};e.exports={getWalker:a,setWalker:i}},{}],12:[function(t,e,n){"use strict";function r(t,e,n){this.elapsed=t,this.waiting=e,this.query=n}function a(t){this.id=i++,this.name=t,this.queries=null,this.update()}r.rand=function(){var t=15*Math.random(),e=Math.random()<.5,n="SELECT blah FROM something";return Math.random()<.2&&(n="<IDLE> in transaction"),Math.random()<.1&&(n="vacuum"),new r(t,e,n)};var i=0;a.prototype.update=function(){for(var t=[],e=Math.floor(10*Math.random()+1),n=0;e>n;n++)t.push(r.rand());this.queries=t},a.prototype.getTopFiveQueries=function(){var t=this.queries.slice();for(t.sort(function(t,e){return t.elapsed-e.elapsed}),t=t.slice(0,5);t.length<5;)t.push(new r(0,!1,""));return t},e.exports={Query:r,Database:a}},{}]},{},[1]);
//# sourceMappingURL=main.js.map